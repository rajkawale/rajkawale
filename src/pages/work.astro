---
import BaseLayout from '../components/BaseLayout.astro';
import { workItems, getWorkByCategory, type WorkItem } from '../data/work';
import WorkCard from '../components/ui/WorkCard.astro';
import DriveViewer from '../components/ui/DriveViewer.astro';

const shippedProducts = getWorkByCategory('shipped');
const professionalWork = getWorkByCategory('professional');
const caseStudies = getWorkByCategory('case-study');
---

<BaseLayout
  title="Work | Raj Kawale | Product Work & Case Studies"
  description="Product work and case studies including shipped products (RaiTalk, Trinka AI, Madhav Farm), professional engagements (Sinch, Nextech AR, Pernia's Pop-Up Shop), and strategic analyses."
  keywords="product work, case studies, shipped products, professional work, product management portfolio, AI products, SaaS products, e-commerce products"
>
  <main class="min-h-screen bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-slate-800 via-slate-900 to-black text-zinc-300 relative z-10" style="padding-top: 150px;">
    <div class="max-w-7xl mx-auto px-6 md:px-12 py-24">
      <!-- Page Header -->
      <div class="mb-16 text-center">
        <h1 class="text-4xl md:text-5xl font-serif font-bold text-slate-100 mb-4">
          Work<span class="text-gray-500">.</span>
        </h1>
        <p class="text-zinc-300 text-lg font-sans max-w-2xl mx-auto">
          Product work and case studies across shipped products, professional engagements, and strategic analyses.
        </p>
      </div>

      <!-- Shipped Products Section -->
      {shippedProducts.length > 0 && (
        <section class="mb-20">
          <h2 class="text-2xl md:text-3xl font-serif font-bold text-slate-100 mb-6">
            Shipped Products
          </h2>
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            {shippedProducts.map((item) => (
              <WorkCard workItem={item} />
            ))}
          </div>
        </section>
      )}

      <!-- Professional Work Section -->
      {professionalWork.length > 0 && (
        <section class="mb-20">
          <h2 class="text-2xl md:text-3xl font-serif font-bold text-slate-100 mb-6">
            Professional Work <span class="text-gray-500 text-xl">(Featured)</span>
          </h2>
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            {professionalWork.map((item) => (
              <WorkCard workItem={item} />
            ))}
          </div>
        </section>
      )}

      <!-- Case Studies Section -->
      {caseStudies.length > 0 && (
        <section class="mb-20">
          <h2 class="text-2xl md:text-3xl font-serif font-bold text-slate-100 mb-6">
            Case Studies & Teardowns
          </h2>
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            {caseStudies.map((item) => (
              <WorkCard workItem={item} />
            ))}
          </div>
        </section>
      )}
    </div>
  </main>
  
  <!-- Drive Viewer Modal -->
  <DriveViewer fileId="" title="Document Viewer" />
</BaseLayout>

<style>
  /* Ensure consistent spacing and styling */
  section {
    scroll-margin-top: 150px;
  }
</style>

