---
import BaseLayout from '../components/BaseLayout.astro';
import { getCollection } from 'astro:content';
import ProjectCard from '../components/ui/ProjectCard.astro';

const allWork = await getCollection('work');
const sortedWork = allWork.sort((a, b) => a.data.priority - b.data.priority);

// Categorize work items
const startupBuilds = sortedWork.filter((item) => 
  item.data.category === 'venture' || item.slug === 'raitalk' || item.slug === 'madhav-farm'
);

const corporateExperience = sortedWork.filter((item) => 
  item.data.category === 'enterprise' && ['sinch', 'nextech-ar', 'pernias-popup'].includes(item.slug)
);

const caseStudies = sortedWork.filter((item) => 
  item.data.category === 'strategy' || (!startupBuilds.includes(item) && !corporateExperience.includes(item))
);
---

<BaseLayout
  title="All Work | Raj Kawale | Products & Businesses Built"
  description="Complete portfolio of products and businesses built, including startup builds, corporate product experience, and case studies."
  keywords="product work, startup builds, corporate experience, case studies, product portfolio"
>
  <main
    class="min-h-screen bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-slate-800 via-slate-900 to-black text-zinc-300 relative z-10"
    style="padding-top: 150px;"
  >
    <div class="max-w-[1100px] mx-auto px-5 md:px-12 pb-24">
      <!-- Page Header -->
      <div class="mb-16 text-center">
        <h1
          class="text-4xl md:text-5xl font-serif font-bold text-slate-100 mb-4"
        >
          All Work<span class="text-gray-500">.</span>
        </h1>
        <p class="text-zinc-300 text-lg font-sans max-w-2xl mx-auto">
          Ownership across strategy, execution, and outcomes
        </p>
      </div>

      <!-- Startup & Zero-to-One Builds -->
      {
        startupBuilds.length > 0 && (
          <section class="mb-32">
            <div class="mb-8 border-l-4 border-purple-500 pl-4">
              <h2 class="text-3xl md:text-4xl font-serif font-bold text-slate-100">
                Startup & Zero-to-One Builds
              </h2>
              <p class="text-purple-300 font-mono text-sm mt-1 uppercase tracking-wide">
                End-to-end product engineering. Blank canvas to Revenue.
              </p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              {startupBuilds.map((item) => (
                <div class="group relative rounded-lg overflow-hidden bg-white/[0.02] border border-white/10 hover:border-white/30 hover:shadow-lg hover:shadow-white/5 transition-all duration-200">
                  <ProjectCard project={item} size="large" />
                </div>
              ))}
            </div>
          </section>
        )
      }

      <!-- Corporate Product Experience -->
      {
        corporateExperience.length > 0 && (
          <section class="mb-32">
            <div class="mb-8 border-l-4 border-blue-500 pl-4">
              <h2 class="text-3xl md:text-4xl font-serif font-bold text-slate-100">
                Corporate Product Experience
              </h2>
              <p class="text-blue-300 font-mono text-sm mt-1 uppercase tracking-wide">
                Sinch, Nextech AR, Pernia's Pop-Up Shop
              </p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
              {corporateExperience.map((item) => (
                <div class="group relative rounded-lg overflow-hidden bg-white/[0.02] border border-white/10 hover:border-white/30 hover:shadow-lg hover:shadow-white/5 transition-all duration-200">
                  <ProjectCard project={item} />
                </div>
              ))}
            </div>
          </section>
        )
      }

      <!-- Case Studies -->
      {
        caseStudies.length > 0 && (
          <section class="mb-32">
            <div class="mb-8 border-l-4 border-emerald-500 pl-4">
              <h2 class="text-3xl md:text-4xl font-serif font-bold text-slate-100">
                Case Studies
              </h2>
              <p class="text-emerald-300 font-mono text-sm mt-1 uppercase tracking-wide">
                Strategic analyses and product thinking
              </p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              {caseStudies.map((item) => (
                <div class="group relative rounded-lg overflow-hidden bg-white/[0.02] border border-white/10 hover:border-white/30 hover:shadow-lg hover:shadow-white/5 transition-all duration-200">
                  <ProjectCard project={item} />
                </div>
              ))}
            </div>
          </section>
        )
      }
    </div>
  </main>
</BaseLayout>

<style>
  section {
    scroll-margin-top: 150px;
  }
</style>

