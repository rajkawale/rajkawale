---
import BaseLayout from "../components/BaseLayout.astro";
import { getCollection } from "astro:content";
import ProjectCard from "../components/ui/ProjectCard.astro";

const allWork = await getCollection("work");
const sortedWork = allWork.sort((a, b) => a.data.priority - b.data.priority);

const ventures = sortedWork.filter((item) => item.data.category === "venture");
const enterpriseProjects = sortedWork.filter(
  (item) => item.data.category === "enterprise",
);
const strategyWork = sortedWork.filter(
  (item) => item.data.category === "strategy",
);
---

<BaseLayout
  title="Work | Raj Kawale | Product Work & Case Studies"
  description="Product work and case studies including shipped products (RaiTalk, Trinka AI, Madhav Farm), professional engagements (Sinch, Nextech AR, Pernia's Pop-Up Shop), and strategic analyses."
  keywords="product work, case studies, shipped products, professional work, product management portfolio, AI products, SaaS products, e-commerce products"
>
  <main
    class="min-h-screen bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-slate-800 via-slate-900 to-black text-zinc-300 relative z-10"
    style="padding-top: 150px;"
  >
    <div class="max-w-[1100px] mx-auto px-5 md:px-12 pb-24">
      <!-- Page Header -->
      <div class="mb-16 text-center">
        <h1
          class="text-4xl md:text-5xl font-serif font-bold text-slate-100 mb-4"
        >
          Work<span class="text-gray-500">.</span>
        </h1>
        <p class="text-zinc-300 text-lg font-sans max-w-2xl mx-auto">
          Product work and case studies across shipped products, professional
          engagements, and strategic analyses.
        </p>
      </div>

      <!-- Venture Section (Founders) -->
      {
        ventures.length > 0 && (
          <section class="mb-32">
            <div class="mb-8 border-l-4 border-purple-500 pl-4">
              <h2 class="text-3xl md:text-4xl font-serif font-bold text-slate-100">
                Founder & 0â†’1 Builds
              </h2>
              <p class="text-purple-300 font-mono text-sm mt-1 uppercase tracking-wide">
                End-to-end product engineering. Blank canvas to Revenue.
              </p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-8">
              {ventures.map((item) => (
                <ProjectCard project={item} size="large" />
              ))}
            </div>
          </section>
        )
      }

      <!-- Enterprise Section (Scale) -->
      {
        enterpriseProjects.length > 0 && (
          <section class="mb-32">
            <div class="mb-8 border-l-4 border-blue-500 pl-4">
              <h2 class="text-3xl md:text-4xl font-serif font-bold text-slate-100">
                Enterprise Scale
              </h2>
              <p class="text-blue-300 font-mono text-sm mt-1 uppercase tracking-wide">
                Architectural transformation & Operational efficiency.
              </p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
              {enterpriseProjects.map((item) => (
                <ProjectCard project={item} />
              ))}
            </div>
          </section>
        )
      }

      <!-- Strategy Section (Thinking) -->
      {
        strategyWork.length > 0 && (
          <section class="mb-32 relative">
             <!-- Background Texture for 'Paper' feel -->
            <div class="absolute inset-0 bg-white/5 bg-[radial-gradient(#e5e7eb_1px,transparent_1px)] [background-size:16px_16px] opacity-[0.03] pointer-events-none rounded-xl"></div>
            
            <div class="relative z-10 p-6 md:p-8 rounded-xl border border-white/10 bg-white/5 backdrop-blur-sm">
                <div class="mb-8">
                <h2 class="text-3xl md:text-4xl font-serif font-bold text-slate-100">
                    Product Thinking
                </h2>
                <p class="text-emerald-300 font-mono text-sm mt-1 uppercase tracking-wide">
                    Deep dives into monetization, growth loops, and market strategy.
                </p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                {strategyWork.map((item) => (
                    <ProjectCard project={item} />
                ))}
                </div>
            </div>
          </section>
        )
      }
    </div>
  </main>
</BaseLayout>

<style>
  /* Ensure consistent spacing and styling */
  section {
    scroll-margin-top: 150px;
  }
</style>
